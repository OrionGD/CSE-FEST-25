<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>FEST 2K25 Volunteer Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
    max-width: 1200px;
  }
  h1, h2 {
    text-align: center;
  }
  .card-container {
    display: flex;
    justify-content: space-around;
    margin-bottom: 40px;
  }
  .card {
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    padding: 20px;
    border-radius: 6px;
    width: 18%;
    text-align: center;
    background: #fafafa;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 30px;
  }
  th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: center;
  }
  th {
    background-color: #007bff;
    color: white;
  }
  canvas {
    background: white;
    border-radius: 8px;
    margin: 20px auto;
    display: block;
    max-width: 600px;
  }
</style>
</head>
<body>

<h1>FEST 2K25 Volunteer Dashboard</h1>

<div class="card-container">
  <div class="card">
    <h3>Total Volunteers</h3>
    <p style="font-size: 2em; color: #007bff;">80</p>
  </div>
  <div class="card">
    <h3>Male Volunteers</h3>
    <p style="font-size: 2em; color: #0056b3;">43 (54%)</p>
  </div>
  <div class="card">
    <h3>Female Volunteers</h3>
    <p style="font-size: 2em; color: #e83e8c;">37 (46%)</p>
  </div>
  <div class="card">
    <h3>Committees</h3>
    <p style="font-size: 2em; color:#28a745;">17</p>
  </div>
  <div class="card">
    <h3>Sections</h3>
    <p style="font-size: 2em; color:#ffc107;">9</p>
  </div>
</div>

<h2>Overall Gender Distribution</h2>
<canvas id="genderPieChart"></canvas>

<h2>Year-wise Participation</h2>
<canvas id="yearBarChart"></canvas>

<h2>Section-wise Volunteer Counts</h2>
<table>
  <thead>
    <tr><th>Section</th><th>Total</th><th>Male</th><th>Female</th></tr>
  </thead>
  <tbody>
    <tr><td>II A</td><td>9</td><td>5</td><td>4</td></tr>
    <tr><td>II B</td><td>8</td><td>3</td><td>5</td></tr>
    <tr><td>II C</td><td>11</td><td>6</td><td>5</td></tr>
    <tr><td>III A</td><td>14</td><td>9</td><td>5</td></tr>
    <tr><td>III B</td><td>8</td><td>3</td><td>5</td></tr>
    <tr><td>III C</td><td>11</td><td>7</td><td>4</td></tr>
    <tr><td>IV A</td><td>7</td><td>3</td><td>4</td></tr>
    <tr><td>IV B</td><td>6</td><td>4</td><td>2</td></tr>
    <tr><td>IV C</td><td>6</td><td>3</td><td>3</td></tr>
  </tbody>
</table>

<h2>Committee Member Counts</h2>
<table>
  <thead>
    <tr><th>Committee</th><th>Total Members</th><th>Male</th><th>Female</th></tr>
  </thead>
  <tbody>
    <tr><td>Overall Coordinator</td><td>2</td><td>2</td><td>0</td></tr>
    <tr><td>Registration</td><td>7</td><td>4</td><td>3</td></tr>
    <tr><td>Hall Arrangement</td><td>6</td><td>4</td><td>2</td></tr>
    <tr><td>Compering</td><td>4</td><td>1</td><td>3</td></tr>
    <tr><td>Refreshment</td><td>7</td><td>6</td><td>1</td></tr>
    <tr><td>Participants Lunch</td><td>7</td><td>6</td><td>1</td></tr>
    <tr><td>Certificate & Prize</td><td>7</td><td>6</td><td>1</td></tr>
    <tr><td>Paper Presentation</td><td>6</td><td>3</td><td>3</td></tr>
    <tr><td>Ideathon</td><td>6</td><td>3</td><td>3</td></tr>
    <tr><td>FreeFire</td><td>6</td><td>4</td><td>2</td></tr>
    <tr><td>Connectionx</td><td>6</td><td>3</td><td>3</td></tr>
    <tr><td>TuneSeek</td><td>6</td><td>3</td><td>3</td></tr>
    <tr><td>Video Editing</td><td>6</td><td>3</td><td>3</td></tr>
    <tr><td>Brochure Distribution</td><td>1</td><td>1</td><td>0</td></tr>
    <tr><td>Discipline</td><td>1</td><td>1</td><td>0</td></tr>
    <tr><td>Social Media</td><td>1</td><td>1</td><td>0</td></tr>
    <tr><td>Newspaper</td><td>1</td><td>1</td><td>0</td></tr>
  </tbody>
</table>

<script>
  const genderCtx = document.getElementById("genderPieChart").getContext("2d");
  const genderPieChart = new Chart(genderCtx, {
    type: "pie",
    data: {
      labels: ["Male", "Female"],
      datasets: [{
        data: [43, 37],
        backgroundColor: ["#007bff", "#e83e8c"],
      }],
    },
    options: {
      responsive: true,
      plugins: {
        legend: { position: "bottom" },
      },
    },
  });

  const yearCtx = document.getElementById("yearBarChart").getContext("2d");
  const yearBarChart = new Chart(yearCtx, {
    type: "bar",
    data: {
      labels: ["II Year", "III Year", "IV Year"],
      datasets: [
        {
          label: "Male",
          data: [14, 19, 10],
          backgroundColor: "#007bff",
        },
        {
          label: "Female",
          data: [13, 15, 9],
          backgroundColor: "#e83e8c",
        },
      ],
    },
    options: {
      responsive: true,
      scales: {
        x: { stacked: true },
        y: { stacked: true, beginAtZero: true },
      },
      plugins: {
        legend: { position: "bottom" },
      },
    },
  });
</script>
</body>
</html>  PolarAngleAxis,
  LineChart,
  Line,
  AreaChart,
  Area,
  DonutChart,
} from "recharts";

const volunteers = [
  // Populate with all 80 volunteers from data: {name, year, section, gender, committee}
  // Example:
  { name: "Hariharan V", year: "IV", section: "A", gender: "M", committee: "Overall Coordinator" },
  // ... add all from dataset
];

const committeesData = [
  { committee: "Overall Coordinator", total: 2, male: 2, female: 0 },
  { committee: "Registration", total: 7, male: 4, female: 3 },
  { committee: "Hall Arrangement", total: 6, male: 4, female: 2 },
  { committee: "Compering", total: 4, male: 1, female: 3 },
  { committee: "Refreshment", total: 7, male: 6, female: 1 },
  { committee: "Participants Lunch", total: 7, male: 6, female: 1 },
  { committee: "Certificate & Prize", total: 7, male: 6, female: 1 },
  { committee: "Paper Presentation", total: 6, male: 3, female: 3 },
  { committee: "Ideathon", total: 6, male: 3, female: 3 },
  { committee: "FreeFire", total: 6, male: 4, female: 2 },
  { committee: "Connectionx", total: 6, male: 3, female: 3 },
  { committee: "TuneSeek", total: 6, male: 3, female: 3 },
  { committee: "Video Editing", total: 6, male: 3, female: 3 },
  { committee: "Brochure Distribution", total: 1, male: 1, female: 0 },
  { committee: "Discipline", total: 1, male: 1, female: 0 },
  { committee: "Social Media", total: 1, male: 1, female: 0 },
  { committee: "Newspaper", total: 1, male: 1, female: 0 },
];

const sectionsData = [
  { section: "II A", male: 5, female: 4, total: 9 },
  { section: "II B", male: 3, female: 5, total: 8 },
  { section: "II C", male: 6, female: 5, total: 11 },
  { section: "III A", male: 9, female: 5, total: 14 },
  { section: "III B", male: 3, female: 5, total: 8 },
  { section: "III C", male: 7, female: 4, total: 11 },
  { section: "IV A", male: 3, female: 4, total: 7 },
  { section: "IV B", male: 4, female: 2, total: 6 },
  { section: "IV C", male: 3, female: 3, total: 6 },
];

const yearData = [
  { year: "II", male: 14, female: 13, total: 27, percent: 33.75 },
  { year: "III", male: 19, female: 15, total: 34, percent: 42.5 },
  { year: "IV", male: 10, female: 9, total: 19, percent: 23.75 },
];

const COLORS = ["#0088FE", "#FF8042"];

function TabPanel(props) {
  const { children, value, index, ...other } = props;
  return (
    <div
      role="tabpanel"
      hidden={value !== index}
      {...other}
      style={{ marginTop: 20 }}
    >
      {value === index && <Box>{children}</Box>}
    </div>
  );
}

export default function FestDashboard() {
  const [tab, setTab] = useState(0);

  const handleTabChange = (event, newValue) => {
    setTab(newValue);
  };

  const totalVolunteers = 80;
  const totalMale = 43;
  const totalFemale = 37;
  const totalCommittees = 17;
  const totalSections = 9;

  return (
    <Container maxWidth="xl" sx={{ paddingTop: 4, paddingBottom: 4 }}>
      <Typography variant="h4" gutterBottom align="center" fontWeight="bold">
        FEST 2K25 Volunteer Dashboard
      </Typography>

      <Paper square>
        <Tabs
          value={tab}
          onChange={handleTabChange}
          indicatorColor="primary"
          textColor="primary"
          variant="scrollable"
          scrollButtons="auto"
        >
          <Tab label="Overview" />
          <Tab label="Committees" />
          <Tab label="Sections" />
          <Tab label="Students" />
          <Tab label="Analytics" />
          <Tab label="Insights" />
        </Tabs>

        {/* Overview Tab */}
        <TabPanel value={tab} index={0}>
          <Grid container spacing={3} justifyContent="center">
            <Grid item xs={12} sm={6} md={2}>
              <Card>
                <CardContent>
                  <Typography variant="h6" align="center" color="textSecondary">
                    Total Volunteers
                  </Typography>
                  <Typography variant="h4" align="center" color="primary" fontWeight="bold">
                    {totalVolunteers}
                  </Typography>
                </CardContent>
              </Card>
            </Grid>
            <Grid item xs={6} sm={3} md={2}>
              <Card>
                <CardContent>
                  <Typography variant="h6" align="center" color="textSecondary">
                    Male
                  </Typography>
                  <Typography variant="h4" align="center" color="info.main" fontWeight="bold">
                    {totalMale}
                  </Typography>
                </CardContent>
              </Card>
            </Grid>
            <Grid item xs={6} sm={3} md={2}>
              <Card>
                <CardContent>
                  <Typography variant="h6" align="center" color="textSecondary">
                    Female
                  </Typography>
                  <Typography variant="h4" align="center" color="secondary.main" fontWeight="bold">
                    {totalFemale}
                  </Typography>
                </CardContent>
              </Card>
            </Grid>
            <Grid item xs={6} sm={3} md={2}>
              <Card>
                <CardContent>
                  <Typography variant="h6" align="center" color="textSecondary">
                    Committees
                  </Typography>
                  <Typography variant="h4" align="center" color="success.main" fontWeight="bold">
                    {totalCommittees}
                  </Typography>
                </CardContent>
              </Card>
            </Grid>
            <Grid item xs={6} sm={3} md={2}>
              <Card>
                <CardContent>
                  <Typography variant="h6" align="center" color="textSecondary">
                    Sections
                  </Typography>
                  <Typography variant="h4" align="center" color="warning.main" fontWeight="bold">
                    {totalSections}
                  </Typography>
                </CardContent>
              </Card>
            </Grid>
          </Grid>

          <Grid container spacing={4} sx={{ marginTop: 4 }}>
            <Grid item xs={12} md={6}>
              <Typography variant="h6" gutterBottom>
                Overall Gender Distribution
              </Typography>
              <ResponsiveContainer width="100%" height={300}>
                <PieChart>
                  <Pie
                    data={[
                      { name: "Male", value: totalMale },
                      { name: "Female", value: totalFemale },
                    ]}
                    cx="50%"
                    cy="50%"
                    labelLine={false}
                    label={({ name, percent }) =>
                      `${name}: ${(percent * 100).toFixed(0)}%`
                    }
                    outerRadius={100}
                    fill="#8884d8"
                    dataKey="value"
                  >
                    {COLORS.map((color, index) => (
                      <Cell key={`cell-${index}`} fill={color} />
                    ))}
                  </Pie>
                  <Tooltip />
                </PieChart>
              </ResponsiveContainer>
            </Grid>

            <Grid item xs={12} md={6}>
              <Typography variant="h6" gutterBottom>
                Year-wise Participation %
              </Typography>
              <ResponsiveContainer width="100%" height={300}>
                <RadialBarChart
                  cx="50%"
                  cy="50%"
                  innerRadius="10%"
                  outerRadius="80%"
                  barSize={15}
                  data={yearData}
                >
                  <RadialBar
                    minAngle={15}
                    background
                    clockWise
                    dataKey="percent"
                    fill="#0088FE"
                  />
                  <PolarAngleAxis
                    type="category"
                    dataKey="year"
                    tick={true}
                  />
                  <Tooltip />
                </RadialBarChart>
              </ResponsiveContainer>
            </Grid>
          </Grid>
        </TabPanel>

        {/* Committees Tab */}
        <TabPanel value={tab} index={1}>
          <Typography variant="h6" gutterBottom>
            Committee Member Count & Gender Distribution
          </Typography>

          <ResponsiveContainer width="100%" height={400}>
            <BarChart
              data={committeesData}
              margin={{ top: 20, right: 30, left: 20, bottom: 5 }}
              layout="vertical"
            >
              <CartesianGrid strokeDasharray="3 3" />
              <XAxis type="number" />
              <YAxis dataKey="committee" type="category" width={180} />
              <Tooltip />
              <Legend />
              <Bar dataKey="male" stackId="a" fill="#0088FE" />
              <Bar dataKey="female" stackId="a" fill="#FF8042" />
            </BarChart>
          </ResponsiveContainer>

          <Typography variant="h6" gutterBottom sx={{ marginTop: 4 }}>
            Committee Details Table
          </Typography>
          <Table>
            <TableHead>
              <TableRow>
                <TableCell>Committee</TableCell>
                <TableCell align="right">Total Members</TableCell>
                <TableCell align="right">Male</TableCell>
                <TableCell align="right">Female</TableCell>
              </TableRow>
            </TableHead>
            <TableBody>
              {committeesData.map((c) => (
                <TableRow key={c.committee}>
                  <TableCell>{c.committee}</TableCell>
                  <TableCell align="right">{c.total}</TableCell>
                  <TableCell align="right">{c.male}</TableCell>
                  <TableCell align="right">{c.female}</TableCell>
                </TableRow>
              ))}
            </TableBody>
          </Table>
        </TabPanel>

        {/* Sections Tab */}
        <TabPanel value={tab} index={2}>
          <Typography variant="h6" gutterBottom>
            Section-wise Volunteer Counts
          </Typography>
          <ResponsiveContainer width="100%" height={350}>
            <BarChart
              data={sectionsData}
              margin={{ top: 20, right: 20, left: 20, bottom: 5 }}
              layout="vertical"
            >
              <CartesianGrid strokeDasharray="3 3" />
              <XAxis type="number" />
              <YAxis type="category" dataKey="section" width={100} />
              <Tooltip />
              <Legend />
              <Bar dataKey="male" stackId="a" fill="#0088FE" />
              <Bar dataKey="female" stackId="a" fill="#FF8042" />
            </BarChart>
          </ResponsiveContainer>

          <Typography variant="h6" gutterBottom sx={{ marginTop: 4 }}>
            Section Details Table
          </Typography>
          <Table>
            <TableHead>
              <TableRow>
                <TableCell>Section</TableCell>
                <TableCell align="right">Total</TableCell>
                <TableCell align="right">Male</TableCell>
                <TableCell align="right">Female</TableCell>
              </TableRow>
            </TableHead>
            <TableBody>
              {sectionsData.map((s) => (
                <TableRow key={s.section}>
                  <TableCell>{s.section}</TableCell>
                  <TableCell align="right">{s.total}</TableCell>
                  <TableCell align="right">{s.male}</TableCell>
                  <TableCell align="right">{s.female}</TableCell>
                </TableRow>
              ))}
            </TableBody>
          </Table>
        </TabPanel>

        {/* Students Tab */}
        <TabPanel value={tab} index={3}>
          <Typography variant="h6" gutterBottom>
            Volunteer Student List
          </Typography>
          <TextField
            fullWidth
            margin="normal"
            label="Search by Name"
            variant="outlined"
            // Implement Search state and function if needed
          />

          <Table size="small" stickyHeader>
            <TableHead>
              <TableRow>
                <TableCell>Name</TableCell>
                <TableCell>Year</TableCell>
                <TableCell>Section</TableCell>
                <TableCell>Gender</TableCell>
                <TableCell>Committee</TableCell>
              </TableRow>
            </TableHead>
            <TableBody>
              {volunteers.map((v) => (
                <TableRow key={v.name}>
                  <TableCell>{v.name}</TableCell>
                  <TableCell>{v.year}</TableCell>
                  <TableCell>{v.section}</TableCell>
                  <TableCell>{v.gender}</TableCell>
                  <TableCell>{v.committee}</TableCell>
                </TableRow>
              ))}
            </TableBody>
          </Table>
        </TabPanel>

        {/* Analytics Tab */}
        <TabPanel value={tab} index={4}>
          <Typography variant="h6" gutterBottom>
            Year-wise Participation (Stacked M/F)
          </Typography>
          <ResponsiveContainer width="100%" height={300}>
            <BarChart
              data={yearData}
              margin={{ top: 20, right: 30, left: 20, bottom: 5 }}
            >
              <CartesianGrid strokeDasharray="3 3" />
              <XAxis dataKey="year" />
              <YAxis />
              <Tooltip />
              <Legend />
              <Bar dataKey="male" stackId="a" fill="#0088FE" />
              <Bar dataKey="female" stackId="a" fill="#FF8042" />
            </BarChart>
          </ResponsiveContainer>

          <Typography variant="h6" gutterBottom sx={{ marginTop: 4 }}>
            Year-wise Volunteer Gender Ratio
          </Typography>
          <Table>
            <TableHead>
              <TableRow>
                <TableCell>Year</TableCell>
                <TableCell align="right">Male</TableCell>
                <TableCell align="right">Female</TableCell>
                <TableCell align="right">Total</TableCell>
                <TableCell align="right">Participation %</TableCell>
              </TableRow>
            </TableHead>
            <TableBody>
              {yearData.map((y) => (
                <TableRow key={y.year}>
                  <TableCell>{y.year}</TableCell>
                  <TableCell align="right">{y.male}</TableCell>
                  <TableCell align="right">{y.female}</TableCell>
                  <TableCell align="right">{y.total}</TableCell>
                  <TableCell align="right">{y.percent}%</TableCell>
                </TableRow>
              ))}
            </TableBody>
          </Table>
        </TabPanel>

        {/* Insights Tab */}
        <TabPanel value={tab} index={5}>
          <Typography variant="h6" gutterBottom>
            Key Insights
          </Typography>
          <ul>
            <li>Most active year: III Year (42.5% participation)</li>
            <li>Overall Gender Ratio: 54% Male, 46% Female</li>
            <li>Largest section: III A with 14 volunteers</li>
            <li>Most balanced section: IV C with equal Male and Female volunteers</li>
            <li>Largest committees have 7 members, smallest have 1</li>
            <li>Female-dominated committees: Compering, Ideathon, TuneSeek</li>
            <li>Male-dominated committees: FreeFire, Overall Coordinator</li>
            <li>8 committees have balanced gender representation</li>
          </ul>
        </TabPanel>
      </Paper>
    </Container>
  );
}
